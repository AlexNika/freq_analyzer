Размещаем flask - проект на хостинге

Мы с вами будем выкладывать сайты на www.pythonanywhere.com/ - ресурс, где можно бесплатно хостить небольшие приложения. Выкладывать туда приложения очень просто

1. Нужно зайти на сайт и зарегистрироваться.
Обратите внимание, что ваш юзернейм будет адресом вашего сайта. Например, если у вас юзернейм noname, то сайт будет доступен по адресу noname.pythonanywhere.com.
После регистрации нужно будет подтвердить свой почтовый адрес.

2. Когда вы заходите на сайт, вы автоматически попадаете в Консоли (Consoles). Чтобы выложить приложение на фласке, нужно перейти в Веб (Web)
и нажать кнопку Add a new web app

Вам сообщат, что адрес сайта будет связан с вашим юзернеймом. Кликаем Next.

Теперь нужно выбрать фреймворк, на котором написан сайт. Кликаем Flask.

Теперь нужно выбрать версию питона. Кликаем на ту, которой вы пользовались, когда писали приложение. Например, Python 3.6.

Нужно ввести путь к файлу с приложением на сервере. Вам автоматически предлагают что-то вроде /home/ВАШ_ЮЗЕРНЕЙМ/mysite/flask_app.py, но я, например, поменяю на  /home/ЮЗЕРНЕЙМ/mysite/my_app.py, потому что мой код приложения на фласке находится в файле my_app.py.

3. Теперь нужно загрузить наши файлы на сервер.

Переходим во вкладку Файлы (Files), там в списке директорий слева (Directories) находим наш сайт (mysite) и переходим туда.

В эту папку нужно загрузить наш файл my_app.py и папку templates. Интерфейс там довольно понятный: новую папку можно создать слева, загрузить файл - справа.

4. Теперь все готово, кроме одного - на сервере нет библиотек, которые мы использовали. Для этого нам нужно создать виртуальное окружение

Переходим в Консоли (Consoles) и нажимаем Bash. Пишем там команды:

mkvirtualenv myenv --python=/usr/bin/python3.6 - это создаст виртуальное окружение, а именно папку myenv в которой будет установлен ваш собственный новый отдельный питон3.6.

pip install pymorphy2
pip install -U pymorphy2-dicts-ru
pip install nltk
pip install requests

which python - эта команда распечатает путь к вашему питону. Например, /home/ВАШ_ЮЗЕРНЕЙМ/.virtualenvs/myenv/bin/python. Из этого пути нужно убрать /bin/python, скопировать полученное, вернуться во вкладку Веб (Web) и вставить наш путь в секции Virtualenv. Нужно вставить что-то такое - /home/ВАШ_ЮЗЕРНЕЙМ/.virtualenvs/myenv

Теперь нужно перезапустить приложение - кликаем большую зеленую кнопку Reload наверху

Готово! 

Если мы перешли на сайт и уведели ошибки вместо рабочего сайта, нам предлагают посмотреть лог ошибок log.errors, по описанию мы сможем понять что мы сделали неправильно.
